<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/normalize.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/1module.css') }}">
<title>BilimQuest Карты</title>
</head>
<body>

  <!-- Верхняя панель -->
  <div class="topbar">
    <div class="title">BilimQuest</div>
    <div class="coins">⭐ {{ "%.2f"|format(student.score) }}</div>
  </div>

  <!-- Полотно карты -->
  <div class="map" id="map">

    <svg class="paths" viewBox="0 0 1000 600" preserveAspectRatio="none">
      <!-- от ракеты к «компьютерлік» -->
      <path d="M110,410 C150,100 320,50 450,60" />
      <!-- к геймпаду -->
      <path d="M550,280 C560,280 680,250 560,120" />
      <!-- к замку -->
      <path d="M410,450 C450,550 490,260 600,420" />
      <!-- к нижнему острову -->
      <path d="M350,370 C450,200 180,240 140,420" />

      <path d="M660,470 C750,420 1050,700 875,440" />

      <path d="M820,340 C720,200 750,80 880,120" />
      <path d="M890,125 C1100,280 780,350 550,290" />
    </svg>

    <!-- Островки/модули (позиции в %) -->
    <a class="node" id="i1" href="/bolim1_1">
      <div class="island"><img src="static/img/first.png" class="emoji" style="width:auto; height:30vh; transform: translate(0, -14vh);"></div>
      <div class="label" style="font-size:2.5vh;">Айналамыздағы ақпарат</div>
    </a>

    <a class="node" id="i2" href="/bolim1_2">
      <div class="island"><img src="static/img/second.png" class="emoji" style="width:auto; height:30vh; transform: translate(0, -14vh);"></div>
      <div class="label" style="font-size:2.5vh;">Ақпаратты беру</div>
    </a>

    <a class="node" id="i3" href="/bolim1_3">
      <div class="island"><img src="static/img/3.png" class="emoji" style="width:auto; height:30vh; transform: translate(0, -14vh);"></div>
      <div class="label" style="font-size:2.5vh;">Ақпаратты шифрлау</div>
    </a>

    <a class="node" id="i4" href="/bolim1_4">
      <div class="island"><img src="static/img/4.png" class="emoji" style="width:auto; height:35vh; transform: translate(-1vw, -18vh);"></div>
      <div class="label" style="font-size:2.5vh;">Екілік ақпаратты көрсету</div>
    </a>

    <a class="node"  id="i5" href="/bolim1_5">
      <div class="island"><img src="static/img/finish.png" class="emoji" style="width:auto; height:20vh; transform: translate(2vw, -13vh);"></div>
      <div class="label" style="font-size:2.5vh;">Бірінші бөлімнің қорытынды тапсырмалары</div>
    </a>

    <a class="node" id="earth" href="/student">
      <div class="label" style="font-size:2.5vh;">Басты бет</div>
      <img src="static/img/earth.png" style="height:auto; width:6vw; box-shadow: 0 0 20px rgba(0,0,0,0.5); border-radius:8em;">
    </a>
    <a class="node" id="saturn" >
      <img src="static/img/saturn.png" style="height:auto; width:10vw;">
    </a>

  </div>

<script>
  // Пример: запрет клика по заблокированному модулю
  document.querySelectorAll('.node.locked').forEach(n=>{
    n.addEventListener('click', e=>{
      e.preventDefault();
      n.animate([{transform:'translate(-50%,-50%)'}, {transform:'translate(-50%,-50%) rotate(-2deg)'},
                 {transform:'translate(-50%,-50%) rotate(2deg)'},
                 {transform:'translate(-50%,-50%)'}], {duration:300});
    });
  });
</script>
</body>
</html>
